# Привет, команда Жизньмарт ✌

Необходимо было разработать конструктор блюд. 
На входи поступает строка, в которую входят коды ингредиентов содержащиеся в блюде.
Конструктор должен сформировать набор всех возможных кобинаций по переданному шаблону.

## Установка

1. `git clone https://github.com/SemenVologdin/lifemart.test.git`

2. `make install`

После этого необходимо сделать импорт базы данных из файла `test_task_202204011832.sql`,  прописать в `.env` файле логин и пароль для подключения к БД.

## Пример использования 

`make start`

После запуска запустится веб сервер. 
Перейдя по нему можно будет обратиться по адресу: `/api/ingredients/{code}`, 
где вместо `code` необходимо написать коды ингредиентов входящих в блюдо.

Пример ответа, при переходе по адресу `/api/dc`:
```
[
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Тонкое тесто"
            },
            {
                "type": "Сыр",
                "value": "Моцарелла"
            }
        ],
        "price": 150
    },
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Пышное тесто"
            },
            {
                "type": "Сыр",
                "value": "Моцарелла"
            }
        ],
        "price": 160
    },
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Ржаное тесто"
            },
            {
                "type": "Сыр",
                "value": "Моцарелла"
            }
        ],
        "price": 200
    },
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Тонкое тесто"
            },
            {
                "type": "Сыр",
                "value": "Рикотта"
            }
        ],
        "price": 170
    },
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Пышное тесто"
            },
            {
                "type": "Сыр",
                "value": "Рикотта"
            }
        ],
        "price": 180
    },
    {
        "products": [
            {
                "type": "Тесто",
                "value": "Ржаное тесто"
            },
            {
                "type": "Сыр",
                "value": "Рикотта"
            }
        ],
        "price": 220
    }
]
```

Если попробовать перейти по какому-то другому маршруту выведется ошибка в формате json, и 404 статус-код ответа: 
```
{
    "message": "Данный маршрут не поддерживается!",
    "routes_list":[
        "\/_error\/{code}.{_format}",
        "\/api\/ingredients\/{strCode}",
        "\/404"
    ]
}
```